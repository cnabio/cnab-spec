{
    "$id": "https://cnab.io/v1/credential-set.schema.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
      "valueMapping": {
        "description": "Defines the source for a value",
        "type": "object",
        "properties": {
          "name": {
            "description": "Name of the mapped value",
            "type": "string"
          },
          "source": {
            "description": "Location where the value should be retrieved",
            "type": "object",
            "properties": {
              "command": {
                "description": "Command that should be executed on the host, using the output returned from the command as the value",
                "type": "string"
              },
              "env": {
                "description": "Name of the environment variable on the host that contains the value",
                "type": "string"
              },
              "path": {
                "description": "Path to a file on the host that contains the value",
                "type": "string"
              },
              "secret": {
                "description": "Name of a secret in a secret store that contains the value",
                "type": "string"
              },
              "value": {
                "description": "Hard-coded value",
                "type": "string"
              }
            },
            "additionalProperties": true
          }
        },
        "additionalProperties": false,
        "required": ["name", "source"]
      }
    },
    "properties": {
      "additionalProperties": false,
      "name": {
        "description": "The name of the credential set.",
        "type": "string"
      },
      "namespace": {
        "description": "The namespace where the credential set is defined.",
        "type": "string"
      },
      "created": {
        "description": "The date created, as an ISO-8601 Extended Format date string, as specified in the ECMAScript standard",
        "type": "string"
      },
      "modified": {
        "description": "The date modified, as an ISO-8601 Extended Format date string, as specified in the ECMAScript standard",
        "type": "string"
      },
      "labels": {
        "description": "Labels are a set of key/value pairs of type string that MAY be used for querying.",
        "type": "object",
        "additionalProperties": {
          "type": "string"
        }
      },
      "credentials": {
        "description": "Mappings of parameter names to their source value", 
        "type": "array",
        "items": {
          "$ref": "#/definitions/valueMapping"
        }
      },
      "custom": {
        "$comment": "reserved for custom extensions",
        "type": "object",
        "additionalProperties": true
      },
      "schemaVersion": {
        "description": "The version of the CNAB specification",
        "type": "string"
      }
    },
    "required": [
      "name",
      "created",
      "modified",
      "credentials",
      "schemaVersion"
    ],
    "title": "CNAB Credential Set json schema",
    "type": "object"
  }
  