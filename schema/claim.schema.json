{
  "$id": "https://cnab.io/v1/claim.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "result": {
      "properties": {
        "message": {
          "description": "the last message from the invocation image or runtime",
          "type": "string"
        },
        "modified": {
          "description": "The date last modified, as an ISO-8601 Extended Format date string, as specified in the ECMAScript standard",
          "type": "string"
        },
        "outputs": {
          "description": "List of output names generated by the last action.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "started": {
          "description": "The date when execution of the operation started, as an ISO-8601 Extended Format date string, as specified in the ECMAScript standard",
          "type": "string"
        },
        "status": {
          "description": "The status of the last action",
          "enum": [
            "failure",
            "success",
            "pending",
            "unknown"
          ],
          "type": "string"
        }
      },
      "stopped": {
        "description": "The date when execution of the operation stopped, as an ISO-8601 Extended Format date string, as specified in the ECMAScript standard",
        "type": "string"
      },
      "required": [
        "message",
        "modified",
        "status"
      ],
      "type": "object"
    }
  },
  "properties": {
    "additionalProperties": false,
    "action": {
      "description": "the name of the action. One of the built-ins (install, uninstall, upgrade) or a custom action.",
      "type": "string"
    },
    "bundle": {
      "$ref": "https://cnab.io/v1/bundle.schema.json",
      "description": "The bundle descriptor"
    },
    "created": {
      "description": "The date created, as an ISO-8601 Extended Format date string, as specified in the ECMAScript standard",
      "type": "string"
    },
    "custom": {
      "$comment": "reserved for custom extensions"
    },
    "installation": {
      "description": "the name of the installation",
      "type": "string"
    },
    "parameters": {
      "description": "key/value pairs of parameter name to parameter value.",
      "type": "object"
    },
    "result": {
      "$ref": "#/definitions/result",
      "description": "The result of the last action"
    },
    "revision": {
      "description": "the revision ID (ideally a ULID)",
      "type": "string"
    }
  },
  "required": [
    "action",
    "bundle",
    "created",
    "installation",
    "revision"
  ],
  "title": "CNAB Claims json schema",
  "type": "object"
}